Discussion points
-----------------

* The server has shown some significant weaknesses with memory leak, 
  it allocates allmost all available memory, and this has led to at least
  one crash. This is possibly caused by delayed_job and/or its dependencies
  such as 'daemons' gem. The problem was first observed short after these had
  been deployed. The problem does not appear in development environment, so 
  it could be due to caching, although most caching is now turned off, 
  (I believe). 

Big Items
---------
* Test cases for release calculation 
	including reference implementation of evaluation code.
		-- I don't understand this anymore... / Johannes

* "Main table" GUI
    - Sort on hierarchy

Things to fix
-------------
* Explanation of how the calculate-method works

* Factories with associations does not work

* Only include taxonomic classes: superkingdom, phylum, class, order, family, genus, species.

* Explanation of how the calculate-method works

* Tests that are not yet implemented:
  - Hierarchy of taxon
  - The dry run initialization
  - protein_counts_by_rank
  - protein_counts_by_hierarchy

* From pfitmap_release show, link from a row to the not_included db_sequences
  from there, make it possible to include a db_sequence, previously not included
  the first task needs a custom controller method and route for db_sequences

* Redo Calculate-functionality from "wgs" to "organism group"
    - Before pressing "Calculate", should be able to choose organism group
    - WGS is a database column?
    - organism-group representation in the protein-count table.

* Test views from a not signed-in perspective:
  - Restrict what views are showing un-authorized users:
  	x Button for deleting profile on show page

* Set up system to enable links from accession numbers to target database. See
  doc/pfitmap.dia (SequenceDatabase model). The accession_url should contain
  Ruby string interpolations like #{field_name} to allow dynamic construction of
  urls. (I just refrained from coupling this model with the SequenceSource
  model; wouldn't simplify anything.)

* Sorting the children in hmm_profiles/index.html.erb by hierarchy didn't work
  -- fix.

* Replace only HMMProfile.name on its own in lists with HMMProfile.description
  (which includes the protein name).

* When AJAX expandable table/list is implemented for the ProteinCount, 
  use it for the pfitmap_release show page as well. May solve the 
  current performance problem.

* Enable sorting on columns as a default feature for all tables.

* Test visual performance in all major browsers

* Search function for hmm_db_hits/db_sequences

* Add file_name to hmm_results so that it's easier to debug if the wrong 
  file has been uploaded.

* Add possibility to 'remove as current' for pfitmap releases

* Sequence source show page does not have a good overview
  of which proteins that have results registered, when there are many 
  hmm_profiles.

* Set smtp-settings for action mailer. Delayed job does not operate currently
  on server since smtp-settings are not fixed for action mailer. Action mailer 
  is disabled in order to execute calculation for the release.

* Ajax loading of the pfitmap_release show

* Model for displayed ranks

* Link from pfitmap_releases/n to individual profile pages. Consider only best hits?

* Add HMMDBHit.database link to counts table.

* Subset ranks in GUI

* There's an array in protein_counts_controller that specifies which proteins to show -- fix.

* On Enzymes form, indent the profiles, so easier to choose


PfitmapRelease.calculate_main
-----------------------------

0. Implement model unit test

1. Handle timeouts in current implementation

2. Handle different sequence databases

3. Look at nested loop implementation 


DONE
----
* Only include taxonomic classes: superkingdom, phylum, class, order, family, genus, species.
