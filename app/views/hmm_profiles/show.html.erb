<% provide(:title, @hmm_profile.name) %>
<div class="row">
  <h1> HMM Profile </h1>
</div>
<div class="row">
  <div class="pageheader2">
    <h3>Create a new HMM Result: </h3>
    <%= render "hmm_results/form" %>
  </div>
</div>

<div class="row">
  <aside class="span4">
    <section>
      <h1>
	<%= @hmm_profile.name %>
      </h1>
      
      <p>
	<b>Version:</b>
	<%= @hmm_profile.version %>
      </p>
      
      <p>
	<b>Hierarchy:</b>
	<%= @hmm_profile.hierarchy %>
      </p>
      
      <p>
	<b>Parent hmm profile:</b>
	<%= @hmm_profile.parent_id ||= "none" %>
      </p>
      
      <%= link_to 'Delete', { :action => :destroy, :id => @hmm_profile.id }, :method => :delete, :confirm => 'Are you sure you whant to delete this HMM Profile and all its related results?', :class => "btn" %>
      
      <%= link_to 'Edit', edit_hmm_profile_path(@hmm_profile), :class => "btn" %>
      <%= link_to 'Back', hmm_profiles_path, :class => "btn" %>
      
    </section>
  </aside>
  <div class="main-content span8">
    <% if @hmm_profile.hmm_results.any? %>
    <h3>Results (<%= @hmm_results.count %>)</h3>
    <table>
      <thead>
	<tr>
	  <th>Source</th>
	  <th>Name</th>
	  <th>Version</th>
	  <th></th>
	</tr>
      </thead>
      <tbody>
	<%= render :partial => "hmm_profiles/hmm_result", :collection => @hmm_results %>
      </tbody>
    </table>
    <%= will_paginate @hmm_results %>
    <% else %>
    <h3>No results registered</h3>
    <% end %>
  </div>
</div>
